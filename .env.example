# ============================================
# DevMailBox Configuration
# ============================================
# Copy this file to .env and update with your values
# cp .env.example .env

# ============================================
# Server Configuration
# ============================================
ENVIRONMENT=development
API_PORT=8080
SMTP_PORT=1025
WEB_PORT=3000

# ============================================
# Database Configuration
# ============================================
# Options: sqlite, postgres
DATABASE_TYPE=sqlite

# SQLite Configuration (default)
DATABASE_DSN=data/devmailbox.db

# PostgreSQL Configuration (if DATABASE_TYPE=postgres)
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=devmailbox
POSTGRES_SSLMODE=disable

# ============================================
# Security Configuration
# ============================================
# IMPORTANT: Change this in production!
JWT_SECRET=change-me-in-production-use-strong-secret-key
JWT_EXPIRATION_HOURS=24
BCRYPT_COST=10

# ============================================
# Root Admin User
# ============================================
# IMPORTANT: Change these in production!
ROOT_USERNAME=admin
ROOT_PASSWORD=admin123
ROOT_EMAIL=admin@devmailbox.local

# ============================================
# SMTP Settings
# ============================================
# Maximum attachment size in MB
MAX_ATTACHMENT_SIZE_MB=10

# Simulation mode: success, failure, random
# - success: All emails are accepted
# - failure: All emails are rejected
# - random: Randomly accept/reject (30% failure rate)
SIMULATION_MODE=success

# ============================================
# Rate Limiting
# ============================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_RPS=100

# ============================================
# Web Frontend Configuration
# ============================================
# API URL for the web frontend
# For Docker: Use http://localhost:8080 (browser connects directly)
# For local dev: Use http://localhost:8080
# For production: Use your actual API URL
NEXT_PUBLIC_API_URL=http://localhost:8080

# ============================================
# Web Frontend URLs Configuration
# ============================================
# API URL for browser access (browser connects from host)
NEXT_PUBLIC_API_URL=http://localhost:8080

# Docker Container URLs (for apps running in Docker on inmail-network)
NEXT_PUBLIC_DOCKER_API_URL=http://api.inmail.local:8080
NEXT_PUBLIC_DOCKER_SMTP_HOST=api.inmail.local
NEXT_PUBLIC_DOCKER_WEB_URL=http://web.inmail.local:3000

# Host Machine URLs (for apps running directly on your Mac/PC)
NEXT_PUBLIC_HOST_API_URL=http://localhost:8080
NEXT_PUBLIC_HOST_SMTP_HOST=localhost
NEXT_PUBLIC_HOST_WEB_URL=http://localhost:3000

# Proxy URL (optional, requires /etc/hosts entry: 127.0.0.1 inmail.local)
NEXT_PUBLIC_PROXY_URL=http://inmail.local
